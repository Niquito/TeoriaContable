<html>
<head>
	<title></title>

    <meta charset="ISO-8859-1"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<style>
		input {
			width: 100%;
			background-color: white;
			color: black;
			border-width: 0px;
		}
		.card {
			box-shadow: 0px 5px 5px -2px grey;
		}
	</style>
</head>
<body>
	<nav class="navbar navbar-light navbar-expand-md bg-light justify-content-center">
		<div id="tituloPagina">
                <a href="/index" class="navbar-brand mr-0">Teoría contable</a>
                <button class="navbar-toggler ml-1" type="button" data-toggle="collapse" data-target="#collapsingNavbar">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
            <div class="navbar-collapse collapse justify-content-between align-items-center w-100" id="collapsingNavbar">
                <ul class="navbar-nav mx-auto text-center">
                    <li class="nav-item">
						<a class="nav-link active" href="/interesaAContabilidad">Cap 1: Ej 12</a>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Cap 2
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" href="/ApendiceI">Ejercicio 1</a>
							<a class="dropdown-item" href="/ApendiceII">Ejercicio 2</a>
							<div class="dropdown-divider"></div>
							<a class="dropdown-item" href="#">Ejercicio 3</a>
							<a class="dropdown-item" href="#">Ejercicio 4</a>
							<a class="dropdown-item" href="#">Ejercicio 5</a>
						</div>
					</li>
                </ul>
            </div>
        </nav>
    <div id="app" class="container-fluid">
    	<div class="row">
    		<div class="col">
    			<br>
        		<table class="table table-bordered table-striped">
        		<thead>
        			<tr>
        			<th colspan=""></th>
        			<th colspan="4" class="text-center">Interesa a la contabilidad</th>
        			</tr>
        			<tr class="text-center">
                        <td>Recursos utilizados en</td>
        				<td>Socio-ambiental</td>
        				<td>Financiera o Patrimonial</td>
        				<td>Gestión</td>
        				<td>Gubernamental</td>
        			</tr>
        		</thead>
        		<tbody class="casos">
                    <tr v-for="caso in casos">
                        <td>{{caso.descripcion}}</td>
                        <td><input type="checkbox" v-bind:data-respuesta="caso.socioAmbiental"></td>
                        <td><input type="checkbox" v-bind:data-respuesta="caso.financiera"></td>
                        <td><input type="checkbox" v-bind:data-respuesta="caso.gestion"></td>
                        <td><input type="checkbox" v-bind:data-respuesta="caso.gubernamental"></td>
                    </tr>
        		</tbody>
        		</table>
        		<button type="button" name="button" @click="siguienteCaso" class="btn btn-outline-primary">Siguiente</button>
        	</div>
        </div>
	</div>

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script type="text/javascript" src="enunciados/c1e12.json"></script>
	<script>
        var arrayCasos = JSON.parse(enunciados);

		function generarCasoRandom(){

            var obj_keys = Object.keys(arrayCasos);
            var k =  obj_keys[Math.floor(Math.random() *obj_keys.length)];
            return arrayCasos[k];

			//arrayCasos[Math.floor(Math.random() * arrayCasos.length)];

		}
	</script>
	<script>
	new Vue({
	  el: '#app',
	  data () {
	        return {
	          i:0,
	          descripcion:'',
	          casos: []
	        }
	      },
	      methods:{
	        siguienteCaso(){

                var error = false;
                $("input[type=checkbox]").each(function( index ) {
                	if ($(this).data("respuesta") != true){
                		var respuesta = false;
                	} else {
                		var respuesta = true;
                	}
                	if (($(this).prop("checked") ) != respuesta){
                		error = true;
                	}
                });
                if (!error){
                	const caso = generarCasoRandom();
                this.i++;
                this.casos.push(caso);
                }else{
                	alert("error");
                }
                error = false;
	        },
	        removerCaso(caso) {
	            this.casos.splice(this.casos.indexOf(caso),1);
	            this.i--;
	        }
	      }
	})

	</script>
</body>
</html>



</body>
</html>